<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			http-equiv="X-UA-Compatible"
			content="IE=edge" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>Hide header</title>
		<link
			rel="stylesheet"
			href="reset.css" />
		<style>
			.header {
				z-index: 3;
				position: fixed;
				left: 0;
				top: 0;
				height: 50px;
				width: 100%;
				transition: 0.4s;
				background-color: coral;
			}

			.header.hide {
				transform: translateY(-50px);
			}

			main {
				height: 2000px;
				background-color: lightgreen;
			}
		</style>
	</head>

	<body>
		<header class="header"></header>
		<main></main>

		<script>
			let lastScroll = 0;
			const defaultOffset = 100;
			const header = document.querySelector('.header');

			const scrollPosition = () =>
				window.pageYOffset || document.documentElement.scrollTop;
			const containHide = () => header.classList.contains('hide');

			window.addEventListener('scroll', () => {
				if (
					scrollPosition() > lastScroll &&
					!containHide() &&
					scrollPosition() > defaultOffset
				) {
					header.classList.add('hide');
				} else if (scrollPosition() < lastScroll && containHide()) {
					header.classList.remove('hide');
				}

				lastScroll = scrollPosition();
			});
		</script>
	</body>
</html>
